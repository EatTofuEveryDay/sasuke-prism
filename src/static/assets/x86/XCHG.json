{"title":"XCHG — Exchange Register/Memory with Register","fields":[{"name":"Instruction Modes","value":"`XCHG AX, r16`\n`XCHG r16, AX`\n`XCHG EAX, r32`\n`XCHG RAX, r64`\n`XCHG r32, EAX`\n`XCHG r64, RAX`\n`XCHG r/m8, r8`\n`XCHG r/m8*, r8*`\n`XCHG r8, r/m8`\n`XCHG r8*, r/m8*`\n`XCHG r/m16, r16`\n`XCHG r16, r/m16`\n`XCHG r/m32, r32`\n`XCHG r/m64, r64`\n`XCHG r32, r/m32`\n`XCHG r64, r/m64`"},{"name":"Description","value":"Exchanges the contents of the destination (first) and source (second) operands. The operands can be two general-purpose registers or a register and a memory location. If a memory operand is referenced, the processor’s locking protocol is automatically implemented for the duration of the exchange operation, regardless of the presence or absence of the LOCK prefix or of the value of the IOPL. (See the LOCK prefix description in this chapter for more information on the locking protocol.)"},{"name":"\u200b","value":"This instruction is useful for implementing semaphores or similar data structures for process synchronization. (See “Bus Locking” in Chapter 8 of the Intel® 64 and IA-32 Architectures Software Developer’s Manual, Volume 3A, for more information on bus locking.)"},{"name":"\u200b","value":"The XCHG instruction can also be used instead of the BSWAP instruction for 16-bit operands."},{"name":"\u200b","value":"In 64-bit mode, the instruction’s default operation size is 32 bits. Using a REX prefix in the form of REX.R permits access to additional registers (R8-R15). Using a REX prefix in the form of REX.W promotes operation to 64 bits. See the summary chart at the beginning of this section for encoding data and limits."}],"footer":{"text":"Thanks to Felix Cloutier for the online x86 reference"}}